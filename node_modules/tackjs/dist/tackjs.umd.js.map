{"version":3,"file":"tackjs.umd.js","sources":["../index.js"],"sourcesContent":["function getCoords (element) {\n  const { left: l, right: r, top: t, bottom: b } = element.getBoundingClientRect()\n  const { pageYOffset: y } = window\n\n  return {\n    height: b - t,\n    width: r - l,\n    top: {\n      y: y + t,\n      x: l + ((r - l) / 2)\n    },\n    bottom: {\n      y: y + b,\n      x: l + ((r - l) / 2)\n    },\n    left: {\n      y: t + ((b - t) / 2),\n      x: l\n    },\n    right: {\n      y: t + ((b - t) / 2),\n      x: r\n    },\n    topLeft: {\n      y: y + t,\n      x: l\n    },\n    bottomLeft: {\n      y: y + b,\n      x: l\n    },\n    topRight: {\n      y: y + t,\n      x: r\n    },\n    bottomRight: {\n      y: y + b,\n      x: r\n    }\n  }\n}\n\nfunction position (target, scope, placement) {\n  const c = getCoords(scope)[placement]\n  const e = getCoords(target)\n  const { pageYOffset: y } = window\n\n  const vp = {\n    top: y,\n    bottom: y + window.innerHeight,\n    left: 0,\n    right: window.innerWidth\n  }\n\n  const offsets = {\n    top: {\n      x: (e.width / 2),\n      y: e.height\n    },\n    bottom: {\n      x: (e.width / 2),\n      y: 0\n    },\n    left: {\n      x: e.width,\n      y: (e.height / 2)\n    },\n    right: {\n      x: 0,\n      y: (e.height / 2)\n    },\n    topLeft: {\n      x: e.width,\n      y: e.height\n    },\n    topRight: {\n      x: 0,\n      y: e.height\n    },\n    bottomLeft: {\n      x: e.width,\n      y: 0\n    },\n    bottomRight: {\n      x: 0,\n      y: 0\n    }\n  }\n\n  let posx = c.x - offsets[placement].x\n  let posy = c.y - offsets[placement].y\n\n  if (posx < vp.left) {\n    posx = vp.left\n  } else if ((posx + e.width) > vp.right) {\n    posx = vp.right - e.width\n  }\n\n  if (posy < vp.top) {\n    posy = vp.top\n  } else if ((posy + e.height) > vp.bottom) {\n    posy = vp.bottom - e.height\n  }\n\n  target.style.transform = `translateX(${Math.round(posx)}px) translateY(${Math.round(posy)}px)`\n}\n\nexport default function tack (target, scope, placement) {\n  target.classList.add('is-tacked')\n  position(target, scope, placement)\n\n  return {\n    update () {\n      position(target, scope, placement)\n    },\n    destroy () {\n      target.style.transform = ''\n      target.classList.remove('is-tacked')\n    }\n  }\n}\n"],"names":["getCoords","element","getBoundingClientRect","height","b","t","width","r","l","top","y","x","bottom","left","right","topLeft","bottomLeft","topRight","bottomRight","position","target","scope","placement","c","e","vp","window","innerHeight","innerWidth","offsets","posx","posy","style","transform","Math","round","classList","add","update","destroy","remove"],"mappings":"qKAAA,SAASA,EAAWC,SAC+BA,EAAQC,yFAGlD,CACLC,OAAQC,EAAIC,EACZC,MAAOC,EAAIC,EACXC,IAAK,CACHC,EAAGA,EAAIL,EACPM,EAAGH,GAAMD,EAAIC,GAAK,GAEpBI,OAAQ,CACNF,EAAGA,EAAIN,EACPO,EAAGH,GAAMD,EAAIC,GAAK,GAEpBK,KAAM,CACJH,EAAGL,GAAMD,EAAIC,GAAK,EAClBM,EAAGH,GAELM,MAAO,CACLJ,EAAGL,GAAMD,EAAIC,GAAK,EAClBM,EAAGJ,GAELQ,QAAS,CACPL,EAAGA,EAAIL,EACPM,EAAGH,GAELQ,WAAY,CACVN,EAAGA,EAAIN,EACPO,EAAGH,GAELS,SAAU,CACRP,EAAGA,EAAIL,EACPM,EAAGJ,GAELW,YAAa,CACXR,EAAGA,EAAIN,EACPO,EAAGJ,IAKT,SAASY,EAAUC,EAAQC,EAAOC,OAC1BC,EAAIvB,EAAUqB,GAAOC,GACrBE,EAAIxB,EAAUoB,wBAGdK,EAAK,CACThB,IAAKC,EACLE,OAAQF,EAAIgB,OAAOC,YACnBd,KAAM,EACNC,MAAOY,OAAOE,YAGVC,EAAU,CACdpB,IAAK,CACHE,EAAIa,EAAElB,MAAQ,EACdI,EAAGc,EAAErB,QAEPS,OAAQ,CACND,EAAIa,EAAElB,MAAQ,EACdI,EAAG,GAELG,KAAM,CACJF,EAAGa,EAAElB,MACLI,EAAIc,EAAErB,OAAS,GAEjBW,MAAO,CACLH,EAAG,EACHD,EAAIc,EAAErB,OAAS,GAEjBY,QAAS,CACPJ,EAAGa,EAAElB,MACLI,EAAGc,EAAErB,QAEPc,SAAU,CACRN,EAAG,EACHD,EAAGc,EAAErB,QAEPa,WAAY,CACVL,EAAGa,EAAElB,MACLI,EAAG,GAELQ,YAAa,CACXP,EAAG,EACHD,EAAG,IAIHoB,EAAOP,EAAEZ,EAAIkB,EAAQP,GAAWX,EAChCoB,EAAOR,EAAEb,EAAImB,EAAQP,GAAWZ,EAEhCoB,EAAOL,EAAGZ,KACZiB,EAAOL,EAAGZ,KACAiB,EAAON,EAAElB,MAASmB,EAAGX,QAC/BgB,EAAOL,EAAGX,MAAQU,EAAElB,OAGlByB,EAAON,EAAGhB,IACZsB,EAAON,EAAGhB,IACAsB,EAAOP,EAAErB,OAAUsB,EAAGb,SAChCmB,EAAON,EAAGb,OAASY,EAAErB,QAGvBiB,EAAOY,MAAMC,UAAa,cAAaC,KAAKC,MAAML,qBAAuBI,KAAKC,MAAMJ,gBAGvE,SAAeX,EAAQC,EAAOC,UAC3CF,EAAOgB,UAAUC,IAAI,aACrBlB,EAASC,EAAQC,EAAOC,GAEjB,CACLgB,kBACEnB,EAASC,EAAQC,EAAOC,IAE1BiB,mBACEnB,EAAOY,MAAMC,UAAY,GACzBb,EAAOgB,UAAUI,OAAO"}